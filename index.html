<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NJTC | Governance Portal</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root {
--njtc-navy: #002b5c;
--njtc-gold: #f4b000;
--njtc-light: #f5f7fb;
--njtc-gray: #4a4a4a;
--njtc-soft-gray: #e2e6f0;
--shadow-soft: 0 2px 6px rgba(0,0,0,0.06);
--shadow-medium: 0 4px 12px rgba(0,0,0,0.1);
--radius: 12px;
}

/* Global */
* {
box-sizing: border-box;
}

body {
font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
background: var(--njtc-light);
margin: 0;
padding: 0;
color: var(--njtc-gray);
}

/* Top Nav */
.navbar {
position: sticky;
top: 0;
z-index: 20;
background: rgba(0, 43, 92, 0.96);
backdrop-filter: blur(8px);
color: white;
display: flex;
align-items: center;
justify-content: space-between;
padding: 12px 24px;
box-shadow: var(--shadow-medium);
}

.nav-left {
display: flex;
align-items: center;
gap: 10px;
}

.nav-logo {
width: 32px;
height: 32px;
border-radius: 8px;
background: linear-gradient(135deg, var(--njtc-gold), #ffe28a);
display: flex;
align-items: center;
justify-content: center;
font-weight: 800;
color: var(--njtc-navy);
font-size: 18px;
}

.nav-title {
display: flex;
flex-direction: column;
}

.nav-title span:first-child {
font-size: 14px;
letter-spacing: 0.08em;
text-transform: uppercase;
opacity: 0.8;
}

.nav-title span:last-child {
font-size: 16px;
font-weight: 600;
}

.nav-links {
display: flex;
align-items: center;
gap: 18px;
font-size: 14px;
}

.nav-links a {
color: #f5f7fb;
text-decoration: none;
opacity: 0.85;
transition: opacity 0.2s ease, transform 0.15s ease;
}

.nav-links a:hover {
opacity: 1;
transform: translateY(-1px);
}

.nav-pill {
padding: 6px 12px;
border-radius: 999px;
background: rgba(244, 176, 0, 0.15);
border: 1px solid rgba(244, 176, 0, 0.4);
}

/* Hero section */
.hero {
max-width: 1120px;
margin: 28px auto 10px auto;
padding: 24px 20px 28px 20px;
}

.hero-inner {
background: radial-gradient(circle at top left, rgba(244,176,0,0.25), transparent 55%),
radial-gradient(circle at top right, rgba(0,43,92,0.4), transparent 60%),
white;
border-radius: 20px;
padding: 28px 22px;
display: grid;
grid-template-columns: minmax(0, 1.7fr) minmax(260px, 1.3fr);
gap: 26px;
box-shadow: var(--shadow-medium);
position: relative;
overflow: hidden;
}

.hero-badge {
display: inline-flex;
align-items: center;
gap: 8px;
padding: 4px 10px;
border-radius: 999px;
background: rgba(255, 255, 255, 0.96);
border: 1px solid rgba(0, 43, 92, 0.14);
font-size: 11px;
text-transform: uppercase;
letter-spacing: 0.12em;
color: var(--njtc-navy);
margin-bottom: 10px;
}

.hero-badge-dot {
width: 7px;
height: 7px;
border-radius: 999px;
background: #1fd67b;
}

.hero h1 {
margin: 0 0 8px 0;
font-size: 26px;
line-height: 1.2;
color: var(--njtc-navy);
}

.hero-subtext {
font-size: 14px;
line-height: 1.45;
max-width: 520px;
}

.hero-cta {
display: flex;
flex-wrap: wrap;
gap: 10px;
margin-top: 16px;
}

.btn-primary,
.btn-secondary {
border-radius: 999px;
padding: 9px 16px;
font-size: 13px;
border: none;
cursor: pointer;
display: inline-flex;
align-items: center;
gap: 8px;
font-weight: 600;
letter-spacing: 0.02em;
}

.btn-primary {
background: var(--njtc-navy);
color: white;
box-shadow: 0 4px 10px rgba(0, 43, 92, 0.35);
}

.btn-primary:hover {
filter: brightness(1.08);
}

.btn-secondary {
background: rgba(255,255,255,0.9);
border: 1px solid rgba(0,43,92,0.15);
color: var(--njtc-navy);
}

.btn-secondary:hover {
background: white;
}

/* Hero stats card */
.hero-stats {
background: rgba(255,255,255,0.94);
border-radius: 16px;
padding: 16px 16px 14px 16px;
border: 1px solid rgba(226,230,240,0.9);
backdrop-filter: blur(6px);
box-shadow: var(--shadow-soft);
align-self: center;
}

.hero-stats-title {
font-size: 13px;
font-weight: 600;
color: var(--njtc-navy);
margin-bottom: 6px;
}

.hero-stats-sub {
font-size: 12px;
margin-bottom: 10px;
}

.stats-grid {
display: grid;
grid-template-columns: repeat(2, minmax(0, 1fr));
gap: 10px;
margin-bottom: 10px;
}

.stat-pill {
border-radius: 12px;
padding: 8px 10px;
background: #f7f9ff;
border: 1px solid #e0e5f5;
font-size: 11px;
}

.stat-pill .label {
font-size: 11px;
text-transform: uppercase;
letter-spacing: 0.08em;
opacity: 0.75;
}

.stat-pill .value {
font-size: 15px;
font-weight: 700;
color: var(--njtc-navy);
}

.hero-meta {
display: flex;
justify-content: space-between;
align-items: center;
margin-top: 4px;
font-size: 11px;
color: #6c7487;
}

/* Main container */
.main-container {
max-width: 1120px;
margin: 0 auto 40px auto;
padding: 0 20px 20px 20px;
}

/* Toolbar: search + filters */
.toolbar {
display: flex;
flex-wrap: wrap;
gap: 10px;
align-items: center;
justify-content: space-between;
margin: 18px 0 14px 0;
}

.search-wrapper {
position: relative;
flex: 1 1 260px;
}

.search-input {
width: 100%;
padding: 8px 32px 8px 28px;
border-radius: 999px;
border: 1px solid #d1d7e6;
background: white;
font-size: 13px;
outline: none;
box-shadow: var(--shadow-soft);
}

.search-input:focus {
border-color: var(--njtc-navy);
}

.search-icon {
position: absolute;
left: 10px;
top: 50%;
transform: translateY(-50%);
font-size: 13px;
opacity: 0.6;
}

.clear-search {
position: absolute;
right: 10px;
top: 50%;
transform: translateY(-50%);
border: none;
background: transparent;
font-size: 12px;
cursor: pointer;
opacity: 0.5;
}

.filter-group {
display: flex;
flex-wrap: wrap;
gap: 6px;
justify-content: flex-end;
}

.filter-btn {
border-radius: 999px;
padding: 5px 10px;
font-size: 11px;
border: 1px solid #d1d7e6;
background: white;
cursor: pointer;
display: inline-flex;
align-items: center;
gap: 6px;
}

.filter-btn span.dot {
width: 8px;
height: 8px;
border-radius: 999px;
}

.filter-btn[data-category="all"] span.dot { background: #9ba4c4; }
.filter-btn[data-category="governance"] span.dot { background: #4b7bec; }
.filter-btn[data-category="data"] span.dot { background: #20bf6b; }
.filter-btn[data-category="hr"] span.dot { background: #eb3b5a; }
.filter-btn[data-category="kpi"] span.dot { background: #fa8231; }
.filter-btn[data-category="academic"] span.dot { background: #8854d0; }

.filter-btn.active {
border-color: var(--njtc-navy);
background: #f1f4ff;
}

/* Section heading */
.section-heading {
display: flex;
align-items: baseline;
justify-content: space-between;
margin: 10px 0 8px 0;
}

.section-heading h2 {
color: var(--njtc-navy);
margin: 0;
border-left: 6px solid var(--njtc-gold);
padding-left: 10px;
font-size: 18px;
}

.section-sub {
font-size: 12px;
opacity: 0.8;
}

/* Cards */
.card-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
gap: 20px;
margin-top: 10px;
}

.card {
background: white;
padding: 16px 14px 14px 14px;
border-radius: 14px;
box-shadow: var(--shadow-soft);
transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease;
border: 1px solid rgba(226,230,240,0.9);
position: relative;
overflow: hidden;
}

.card::before {
content: "";
position: absolute;
inset: 0;
background: linear-gradient(135deg, rgba(244,176,0,0.04), transparent 55%);
opacity: 0;
pointer-events: none;
transition: opacity 0.18s ease;
}

.card:hover::before {
opacity: 1;
}

.card:hover {
transform: translateY(-4px);
box-shadow: var(--shadow-medium);
border-color: rgba(0,43,92,0.18);
}

.card-header-row {
display: flex;
justify-content: space-between;
align-items: flex-start;
gap: 6px;
}

.card-title {
margin: 0 0 4px 0;
font-size: 16px;
color: var(--njtc-navy);
}

.badges {
display: flex;
flex-wrap: wrap;
gap: 4px;
justify-content: flex-end;
}

.badge {
font-size: 9px;
text-transform: uppercase;
letter-spacing: 0.08em;
padding: 3px 6px;
border-radius: 999px;
border: 1px solid rgba(0,0,0,0.08);
background: #f7f8fd;
}

.badge-category {
border-color: rgba(0,43,92,0.25);
color: var(--njtc-navy);
}

.badge-new {
border-color: rgba(31,214,123,0.5);
color: #0d9b57;
background: #e4fbf0;
}

.card p {
color: var(--njtc-gray);
font-size: 13px;
line-height: 1.4;
margin: 6px 0 10px 0;
}

.card-meta-row {
display: flex;
justify-content: space-between;
align-items: center;
font-size: 11px;
color: #7a8295;
}

.card a {
display: inline-flex;
align-items: center;
gap: 6px;
margin-top: 3px;
color: var(--njtc-navy);
font-weight: 600;
font-size: 12px;
text-decoration: none;
}

.card a:hover {
text-decoration: underline;
}

/* Empty / loading states */
#empty-state {
padding: 16px;
font-size: 13px;
text-align: center;
color: #6c7487;
}

/* Footer */
footer {
border-top: 1px solid #d7dcea;
padding: 14px 20px 20px 20px;
font-size: 11px;
color: #6c7487;
background: #f7f8fd;
}

.footer-inner {
max-width: 1120px;
margin: 0 auto;
display: flex;
flex-wrap: wrap;
gap: 8px;
justify-content: space-between;
align-items: center;
}

/* Responsive */
@media (max-width: 768px) {
.hero-inner {
grid-template-columns: minmax(0, 1fr);
}
.navbar {
flex-wrap: wrap;
gap: 8px;
}
.nav-links {
width: 100%;
justify-content: flex-start;
flex-wrap: wrap;
gap: 10px;
}
}
</style>
</head>

<body>

<!-- Top Navigation -->
<header class="navbar">
<div class="nav-left">
<div class="nav-logo">NJ</div>
<div class="nav-title">
<span>Governance & Ops</span>
<span>NJ Tutoring Corps</span>
</div>
</div>
<nav class="nav-links">
<a href="#hero">Home</a>
<a href="#documents">Governance Library</a>
<a href="#documents" class="nav-pill">KPI & Data</a>
</nav>
</header>

<!-- Hero / Landing Section -->
<section class="hero" id="hero">
<div class="hero-inner">
<div>
<div class="hero-badge">
<span class="hero-badge-dot"></span>
<span>Single source of truth</span>
</div>
<h1>NJTC Governance & Data Hub</h1>
<p class="hero-subtext">
A centralized, action-focused home for operational policies, data governance,
and KPI frameworks powering NJ Tutoring Corps. Built to make doing the right
thing the easy thing for every team.
</p>
<div class="hero-cta">
<button class="btn-primary" onclick="scrollToDocuments()">
Browse governance documents ‚Üí
</button>
<button class="btn-secondary" onclick="scrollToDocuments()">
View KPI & data standards
</button>
</div>
</div>

<aside class="hero-stats">
<div class="hero-stats-title">Portal snapshot</div>
<div class="hero-stats-sub">Live view of your governance library.</div>
<div class="stats-grid">
<div class="stat-pill">
<div class="label">Documents</div>
<div class="value" id="stat-doc-count">‚Äî</div>
</div>
<div class="stat-pill">
<div class="label">Key Areas</div>
<div class="value">5</div>
</div>
<div class="stat-pill">
<div class="label">Last Refresh</div>
<div class="value" id="stat-last-refresh">‚Äî</div>
</div>
<div class="stat-pill">
<div class="label">Automation</div>
<div class="value">On</div>
</div>
</div>
<div class="hero-meta">
<span>Maintained by Program Evaluation & Impact</span>
<span id="hero-meta-detail">Loading repository‚Ä¶</span>
</div>
</aside>
</div>
</section>

<main class="main-container">
<div class="section-heading">
<h2 id="documents">Governance Library</h2>
<div class="section-sub" id="section-subtext">
Centralized policies and frameworks for HR, data, academic, and KPI operations.
</div>
</div>

<!-- Toolbar -->
<div class="toolbar">
<div class="search-wrapper">
<span class="search-icon">üîç</span>
<input
type="text"
id="search-input"
class="search-input"
placeholder="Search documents by name, area, or description‚Ä¶"
/>
<button class="clear-search" id="clear-search" style="display:none;">‚úï</button>
</div>
<div class="filter-group">
<button class="filter-btn active" data-category="all">
<span class="dot"></span> All
</button>
<button class="filter-btn" data-category="governance">
<span class="dot"></span> Governance
</button>
<button class="filter-btn" data-category="data">
<span class="dot"></span> Data
</button>
<button class="filter-btn" data-category="hr">
<span class="dot"></span> HR / ADP
</button>
<button class="filter-btn" data-category="kpi">
<span class="dot"></span> KPI
</button>
<button class="filter-btn" data-category="academic">
<span class="dot"></span> Academic
</button>
</div>
</div>

<!-- Cards -->
<div id="empty-state">Loading documents from GitHub repository‚Ä¶</div>
<div class="card-grid" id="card-grid"></div>
</main>

<footer>
<div class="footer-inner">
<span>NJ Tutoring Corps ‚Ä¢ Governance & Operations Portal</span>
<span id="footer-meta">Powered by GitHub Pages ‚Ä¢ Dynamic index</span>
</div>
</footer>

<!-- JS: dynamic loading, search, filters -->
<script>
const repoOwner = "mrwallace672-source";
const repoName = "NJTC-Governance";

const cardGrid = document.getElementById("card-grid");
const emptyState = document.getElementById("empty-state");
const statDocCount = document.getElementById("stat-doc-count");
const statLastRefresh = document.getElementById("stat-last-refresh");
const heroMetaDetail = document.getElementById("hero-meta-detail");
const footerMeta = document.getElementById("footer-meta");
const searchInput = document.getElementById("search-input");
const clearSearchBtn = document.getElementById("clear-search");
const filterButtons = document.querySelectorAll(".filter-btn");

let allCards = [];
let activeCategory = "all";
let searchTerm = "";
const PEARL_FILE = "NJTC_Data_Governance_Guide.html";

/* Helper: smooth scroll to library */
function scrollToDocuments() {
document.getElementById("documents").scrollIntoView({ behavior: "smooth" });
}

/* Format filename -> title (generic) */
function formatTitle(filename) {
let clean = filename
.replace(/\.html$/i, "")
.replace(/[-_]/g, " ");

clean = clean.replace(/\b(njtc|suite|policy|guide)\b/gi, "");
clean = clean.replace(/\s+/g, " ").trim();

if (!clean) {
clean = filename.replace(/\.html$/i, "");
}

return clean.replace(/\b\w/g, char => char.toUpperCase());
}

/* Categorize based on filename heuristics */
function categorizeFile(filename) {
const n = filename.toLowerCase();
if (n.includes("kpi") || n.includes("health_of_the_business")) return "kpi";
if (n.includes("adp") || n.includes("hr")) return "hr";
if (n.includes("pearl") || n.includes("data")) return "data";
if (n.includes("academic")) return "academic";
return "governance";
}

/* Category label for badge */
function categoryLabel(key) {
switch (key) {
case "data": return "Data Governance";
case "hr": return "HR & ADP";
case "kpi": return "KPI & Business Health";
case "academic": return "Academic";
case "governance":
default: return "Governance";
}
}

/* Description based on category + filename */
function descriptionFor(fileName, categoryKey) {
const lower = fileName.toLowerCase();

if (fileName === PEARL_FILE) {
return "Pearl Data Governance standards covering data collection, integrity, reporting, and security across NJTC systems.";
}

if (categoryKey === "hr") {
return "Operational standards and governance for ADP, HR processes, and workforce practices.";
}
if (categoryKey === "data") {
return "Data collection, security, and reporting standards that govern Pearl and related systems.";
}
if (categoryKey === "kpi") {
return "Definitions and monitoring framework for KPIs tied to NJTC health and impact.";
}
if (categoryKey === "academic") {
return "Academic data governance, integrity rules, and reporting expectations across sites.";
}
if (lower.includes("pearl")) {
return "Guidance specific to Pearl platform usage and data quality management.";
}
return "Core governance policy supporting consistent operations across NJTC.";
}

/* Mark some files as "new" just by name pattern (you can tweak this) */
function isNewFile(filename) {
const n = filename.toLowerCase();
return n.includes("academic") || n.includes("kpi");
}

/* Create card element */
function createCard(file) {
const card = document.createElement("div");
card.className = "card";

let title = formatTitle(file.name);
let categoryKey = categorizeFile(file.name);
let categoryText = categoryLabel(categoryKey);
let desc = descriptionFor(file.name, categoryKey);

// Strict override for Pearl Data Governance document
if (file.name === PEARL_FILE) {
title = "Pearl Data Governance";
categoryText = "Pearl Data Governance";
}

const isNew = isNewFile(file.name);

card.dataset.category = categoryKey;
card.dataset.search = (title + " " + desc + " " + categoryText).toLowerCase();

card.innerHTML = `
<div class="card-header-row">
<div>
<h3 class="card-title">${title}</h3>
</div>
<div class="badges">
<span class="badge badge-category">${categoryText}</span>
${isNew ? '<span class="badge badge-new">New</span>' : ""}
</div>
</div>
<p>${desc}</p>
<div class="card-meta-row">
<span>Source: GitHub repository</span>
<a href="${file.name}">
Open document ‚Üí
</a>
</div>
`;

cardGrid.appendChild(card);
allCards.push(card);
}

/* Apply search + filter logic */
function applyFilters() {
const term = searchTerm.trim().toLowerCase();
let visibleCount = 0;

allCards.forEach(card => {
const matchesCategory = activeCategory === "all" || card.dataset.category === activeCategory;
const matchesSearch = !term || card.dataset.search.includes(term);

if (matchesCategory && matchesSearch) {
card.style.display = "";
visibleCount++;
} else {
card.style.display = "none";
}
});

emptyState.style.display = visibleCount === 0 ? "block" : "none";
emptyState.textContent = visibleCount === 0
? "No documents match your search or filters. Try clearing filters or using a different keyword."
: "";
}

/* Search events */
searchInput.addEventListener("input", () => {
searchTerm = searchInput.value;
clearSearchBtn.style.display = searchTerm ? "block" : "none";
applyFilters();
});

clearSearchBtn.addEventListener("click", () => {
searchTerm = "";
searchInput.value = "";
clearSearchBtn.style.display = "none";
applyFilters();
});

/* Filter button events */
filterButtons.forEach(btn => {
btn.addEventListener("click", () => {
filterButtons.forEach(b => b.classList.remove("active"));
btn.classList.add("active");
activeCategory = btn.dataset.category;
applyFilters();
});
});

/* Fetch files from GitHub and build UI */
fetch(`https://api.github.com/repos/${repoOwner}/${repoName}/contents`)
.then(response => response.json())
.then(files => {
const htmlFiles = (files || []).filter(f =>
f.name.toLowerCase().endsWith(".html") &&
f.name.toLowerCase() !== "index.html"
);

cardGrid.innerHTML = "";
allCards = [];

if (htmlFiles.length === 0) {
emptyState.textContent = "No governance documents were found in the repository yet.";
return;
}

htmlFiles.forEach(file => createCard(file));
emptyState.style.display = "none";

// Stats + meta
statDocCount.textContent = htmlFiles.length.toString();

const now = new Date();
const options = { month: "short", day: "numeric", year: "numeric" };
statLastRefresh.textContent = now.toLocaleDateString(undefined, options);
heroMetaDetail.textContent = `Loaded ${htmlFiles.length} document${htmlFiles.length !== 1 ? "s" : ""} from GitHub.`;
footerMeta.textContent = `Powered by GitHub Pages ‚Ä¢ Auto-indexed ${htmlFiles.length} document${htmlFiles.length !== 1 ? "s" : ""}`;
})
.catch(err => {
console.error("Error loading files:", err);
emptyState.textContent = "There was an issue loading documents from the repository. Please try again or contact PEI.";
heroMetaDetail.textContent = "Error loading repository. Check GitHub or network connection.";
});
</script>

</body>
</html>
